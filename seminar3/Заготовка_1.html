<!DOCTYPE html>
<html>
<head>
    <title>Выбор товаров по категории</title>
</head>
<body>
    <h1>Выберите категорию товаров:</h1>
    <select onchange="func(value)" id="category-select">
        <option value="">Все категории</option>
        <option value="Электроника">Электроника</option>
        <option value="Бытовая техника">Бытовая техника</option>
        <option value="Книги">Книги</option>
        <option value="Одежда">Одежда</option>
        <option value="Мебель">Мебель</option>
    </select>

    <h2>Товары:</h2>
    <ul id="products-list"></ul>

    <script>
        const productsData = [
            {
                id: 1,
                name: "Ноутбук",
                category: "Электроника",
            },
            {
                id: 2,
                name: "Смартфон",
                category: "Электроника",
            },
            {
                id: 3,
                name: "Кофемашина",
                category: "Бытовая техника",
            },
            {
                id: 4,
                name: "Фотокамера",
                category: "Электроника",
            },
            {
                id: 5,
                name: "Микроволновая печь",
                category: "Бытовая техника",
            },
            {
                id: 6,
                name: "Книга",
                category: "Книги",
            },
            {
                id: 7,
                name: "Футболка",
                category: "Одежда",
            },
            {
                id: 8,
                name: "Шапка",
                category: "Одежда",
            },
            {
                id: 9,
                name: "Стул",
                category: "Мебель",
            },
            {
                id: 10,
                name: "Стол",
                category: "Мебель",
            },
        ];

        function func(value) {
            const productsList = document.querySelector('#products-list');
            productsList.textContent = '';
            // console.log(productsList);
            if (value === '') {
                // выводим все товары
                productsData.forEach(product => {
                    const newLi = document.createElement('li');
                    newLi.textContent = product.name;
                    productsList.append(newLi);
                })
            } else {
                productsData.forEach(product => {
                    if (product.category === value) {
                        const newLi = document.createElement('li');
                        productsList.append(newLi);
                        newLi.textContent = product.name;
                    }
                })
            }
        }
        

        window.onload = () => {
        // document.addEventListener('onload', () => {
            const productsList = document.querySelector('#products-list');

            productsData.forEach(product => {
                const newLi = document.createElement('li');
                newLi.textContent = product.name;
                productsList.append(newLi);
            })
        }
        // )
    </script>
</body>
</html>
